_dxBlazorInternal.define("cjs-combobox-7a913ef4.js",function(e,t,n){e("./cjs-chunk-c27cc8ab.js");var o=e("./cjs-dom-utils-bcbaf851.js"),s=e("./cjs-chunk-103238e5.js"),a=e("./cjs-dropdowns-54563342.js");e("./cjs-chunk-f6404a26.js");var r=e("./cjs-chunk-3fd5dedb.js");function u(e){return e==r.Key.Tab||16<=e&&e<=20}var c=200,i=c/2;function l(e){var t=p(e);r.ScrollToSelectedItem(t)}function d(e){e=o.EnsureElement(e),document.activeElement===e&&(m(e),v(e))}function m(e){e&&!e.readOnly&&e.dataset.nullText&&e.value===e.dataset.nullText&&(e.value="")}function f(e,t){e.dataset.timerId&&(clearTimeout(e.dataset.timerId),delete e.dataset.timerId),t||window.setTimeout(function(){f(e,!0)},i)}function v(e){e&&e.dataset.focusedClass&&(e.className=e.dataset.focusedClass)}function E(e,t){return t&&!function(e){u(e.keyCode)||(e.target.dataset.previousValue=e.target.value)}(e),function(e){return k(e)}(e)&&(e.stopPropagation(),e.preventDefault()),!1}function y(e,t,n,o){var s=!1;if(o&&(s=s||function(e){if(u(e.keyCode))return!1;var t=e.target;return!(t&&t.dataset.previousValue===e.target.value)}(e)),s=s||function(e){var t=e.altKey&&(e.keyCode==r.Key.Down||e.keyCode==r.Key.Up),n=k(e),o=e.keyCode==r.Key.Esc||e.keyCode==r.Key.Enter;return t||n||o}(e)){var a=e.target.value;if(n&&r.HasParametersForVirtualScrollingRequest(n)){var c=r.GetParametersForVirtualScrollingRequest(n,!1);t.invokeMethodAsync("OnComboBoxListBoxKeyUp",a,e.keyCode,e.altKey,e.ctrlKey,c.itemHeight,c.scrollTopForRequest,c.scrollHeightForRequest)}else t.invokeMethodAsync("OnComboBoxKeyUp",a,e.keyCode,e.altKey,e.ctrlKey)}}function k(e){return e.keyCode===r.Key.Down||e.keyCode===r.Key.Up||e.keyCode===r.Key.PageUp||e.keyCode===r.Key.PageDown||e.ctrlKey&&(e.keyCode===r.Key.Home||e.keyCode===r.Key.End)}function h(e,t,n){if(t){var o=(new Date).getTime();t.dataset.lastLostFocusTime&&o-t.dataset.lastLostFocusTime<c+100&&!n||(t.dataset.lastLostFocusTime=(new Date).getTime(),e.invokeMethodAsync("OnComboBoxLostFocus",t.value))}}function p(e){return(e=o.EnsureElement(e)).querySelector("div.dxbs-dm.dropdown-menu")}function j(e,t,n,r,u){if(e=o.EnsureElement(e)){s.DisposeEvents(e),r="true"===r.toLowerCase(),u="true"===u.toLowerCase(),t=o.EnsureElement(t);var i=p(e),d=i;u&&l(e);var k=function(e){return E(e,r)},j=function(e){return y(e,n,d,r)},C=function(e){return function(e,t){var n=e.target;m(n),v(n)}(e)},D=function(e){return function(e,t){var n=e.target;f(n,!0),n.dataset.timerId=window.setTimeout(function(){if(delete n.dataset.timerId,function(e){e&&e.dataset.bluredClass&&(e.className=e.dataset.bluredClass)}(n),document.activeElement!==n)try{h(t,n)}catch(e){}},c)}(e,n)},T=function(e){return f(t)},b=function(r){return a.OnOutsideClick(r,e,function(){o.elementIsInDOM(e)||s.DisposeEvents(e);var r=document.activeElement===t,u=t.dataset.timerId>0,c=i&&a.IsDropDownVisible(i);f(t),(r||u||c)&&h(n,t,!0)})};return o.AttachEventToElement(t,"keydown",k),o.AttachEventToElement(t,"keyup",j),o.AttachEventToElement(t,"focus",C),o.AttachEventToElement(t,"blur",D),o.AttachEventToElement(e,"mousedown",T),o.AttachEventToElement(document,s.TouchUIHelper.touchMouseDownEventName,b),s.RegisterDisposableEvents(e,function(){o.DetachEventFromElement(t,"keydown",k),o.DetachEventFromElement(t,"keyup",j),o.DetachEventFromElement(t,"focus",C),o.DetachEventFromElement(t,"blur",D),o.DetachEventFromElement(e,"mousedown",T),o.DetachEventFromElement(document,s.TouchUIHelper.touchMouseDownEventName,b)}),Promise.resolve("ok")}}function C(e){if(e=o.EnsureElement(e))return s.DisposeEvents(e),Promise.resolve("ok")}var D={Init:j,Dispose:C,PrepareInputIfFocused:d,ScrollToSelectedItem:l};n.Dispose=C,n.Init=j,n.PrepareInputIfFocused=d,n.ScrollToSelectedItem=l,n.default=D},["cjs-chunk-c27cc8ab.js","cjs-dom-utils-bcbaf851.js","cjs-chunk-103238e5.js","cjs-dropdowns-54563342.js","cjs-chunk-f6404a26.js","cjs-chunk-3fd5dedb.js"]);
