import"./esm-chunk-d9927197.js";import{EnsureElement as e,ElementHasCssClass as n,changeDom as t,calculateStyles as o,GetCurrentStyle as i,AttachEventToElement as r,toggleCssClass as u}from"./esm-dom-utils-039553e2.js";import"./esm-chunk-5ae0b2a0.js";import{parseTranslateInfo as c,translatePosition as a}from"./esm-popup-utils-56873ac8.js";var s=[];function l(e){var n=s.indexOf(e);return n>-1?s[n+1]:Promise.reject()}function d(e,n){return-1===s.indexOf(e)?function(e,n){var t=new Promise(function(t){import("./esm-devexpress.viz-5d8db4bd.js").then(function(o){n(function(n){t(new o.viz.dxChart(e.querySelector(".dx-chart"),n))})})});return s.push(e),s.push(t),t}(e,n):l(e).then(function(e){return new Promise(function(t){n(function(n){n.animation={enabled:!1},e.option(n),t("ok")})})}).catch(function(e){void 0})}function f(e,n,t,o,i){o.forEach(function(o){r(e,o,function(e){var o=n.getSeriesByPos(t);o&&i(o)})})}function p(e,t,o,i){var r=t.getSeriesByPos(o);if(r){var u=e.querySelector(".dx-chart-legend-icon");if(u){var c=r.getColor();n(u,"dx-chart-def-icon")&&(u.style.backgroundColor=c),u.style.color=c}i||(f(e,t,o,["mouseover","focusin"],function(e){e.hover(t.option("legend.hoverMode"))}),f(e,t,o,["mouseout","focusout"],function(e){e.clearHover()}))}}function m(n,t){var i=null,r=null,u=null,c={},a={},s=-1;function l(n,r){clearTimeout(s),s=setTimeout(function(){i=n,t.invokeMethodAsync("GetTooltipTemplate",[n]).then(function(t){return t=e(t),a[n]=t,function(e,n){return o(function(){var t=e.getBoundingClientRect();return'<div id="_'+n+'" class="dx-chart-tooltip-wrapper" style="width: '+t.width+"px; height: "+t.height+'px;"></div>'})}(t,n)}).then(function(e){c[n]=e,i===n&&r()}).catch(function(e){void 0})},100)}n.tooltip={enabled:!0,paddingLeftRight:0,paddingTopBottom:0,customizeTooltip:function(e){return c[e.point.tag]?{html:c[e.point.tag]}:(l(e.point.tag,function(){e.point.showTooltip()}),{text:""})}},n.onTooltipHidden=function(e){var n;r=null,u&&(n=u,void import("./esm-popup-utils-56873ac8.js").then(function(e){e.hide(n)}),u=null)},n.onTooltipShown=function(e){if(e.target){var n=e.target.tag;c[n]&&(r=n,import("./esm-popup-utils-56873ac8.js").then(function(e){r==n&&e.show(u=a[n],document.getElementById("_"+n),"top-sides left-sides")}))}}}function h(e,n){return e._valueAxes.filter(function(e){return e.pane===n.name})[0]}const g={Init:function(e,n,r){return d(e,function(s){!function(e,n){if(e.palette)return n(e.palette);var r=["bg-primary","bg-success","bg-danger","bg-warning","bg-info","bg-secondary"],u=document.createElement("DIV");u.className="d-none position-absolute";for(var c=0;c<r.length;c++){var a=document.createElement("DIV");a.className=r[c],u.appendChild(a)}t(function(){document.body.appendChild(u),o(function(){for(var e=[],o=0;o<u.childNodes.length;o++)e.push(i(u.childNodes[o]).backgroundColor);t(function(){document.body.removeChild(u),n(e)})})})}(n,function(i){var l=!1,d={tooltip:n.tooltip,dataSource:n.dataSource,palette:i,commonAxisSettings:{label:{overlappingBehavior:"rotate",rotationAngle:45}},commonSeriesSettings:{argumentField:"argument",valueField:"value",sizeField:"size",type:"bar"},adaptiveLayout:{width:0,height:0},seriesTemplate:{nameField:"seriesId",customizeSeries:function(e){return n.series.filter(function(n){return n.seriesId===e})[0]}},legend:{visible:!1,hoverMode:(n.legend?n.legend.hoverMode:null)||"includepoints"},onDrawn:function(n){l||(l=!0,function(e,n){for(var t=e.querySelectorAll(".dx-chart-legend-item"),o=0;o<t.length;o++){var i=t[o],r=+i.getAttribute("data-series");p(i,n,r,!0)}}(e,n.component),function(e,n){function i(e,n){t(function(){a(e,0,n)})}function r(e,n,t,o,r){i(e,o),e.marginTop="-"+r+"px",i(n,-r),i(t,-r)}0!==n.panes.filter(function(e){return"default"!==e.name}).length&&o(function(){for(var o=0,u=n.panes.length-2;u>=0;u--){var a=n.panes[u],s=e.querySelector(".dx-chart-legend[data-pane='"+a.name+"']"),l=s.offsetHeight+o,d=h(n,a),f=d._axisGroup.element,p=d._axisGridGroup.element,m=p.getBoundingClientRect().bottom+10,g=c(s.style),v=s.getBoundingClientRect().top-g.top;n.series.filter(function(e){return e.pane===a.name}).forEach(function(e){i(e._group.element.style,-l)}),r(s.style,f.style,p.style,m-v,l),o+=l}t(function(){n.option("margin",{top:o})})})}(e,n.component),u(e,"dx-loading",!1))},valueAxis:n.valueAxis,panes:n.panes,argumentAxis:n.argumentAxis,pathModified:!0};n.hasTooltipCustomization?m(d,r):d.tooltip=n.tooltip,s(d)})}).then(function(){return Promise.resolve("ok")}).catch(function(e){void 0})},Dispose:function(n){return function(n,t){n=e(n);var o=s.indexOf(n);return o>-1&&(s[o+1].then(function(e){e.dispose()}),s[o+1]=null,t&&(s[o]=null)),Promise.resolve()}(n,!0)},OnSeriesLegendElementReceived:function(e,n,t){return l(e).then(function(e){return p(t,e,n),Promise.resolve()}).catch(function(e){void 0})},OnSeriesVisibleChanged:function(e,n,t){return l(e).then(function(e){var o=e.getSeriesByPos(n);return t?o.show():o.hide(),Promise.resolve()}).catch(function(e){void 0})}};export default g;
