_dxBlazorInternal.define("cjs-chunk-3fd5dedb.js",function(e,t,o){var l=e("./cjs-chunk-c27cc8ab.js"),n=e("./cjs-dom-utils-bcbaf851.js"),r=e("./cjs-chunk-103238e5.js"),i=e("./cjs-chunk-f6404a26.js"),a={GridSelectedRow:".dxbs-table tr.table-active",ListBoxSelectedItem:".dropdown-item.active"};function c(e){return"[data-dxdg-draggable-id="+e+"]"}function u(e,t,o){var l,n,r;l=e,n=d(t,"clientX")-o.left,r=d(t,"clientY")-o.top,void(l.style.transform=["translate(",n,"px, ",r,"px)"].join(""))}var s={GroupPanelHead:"gph",ColumnHead:"ch"};function d(e,t){return void 0!==e[t]?e[t]:void 0!==e.touches?e.touches[0][t]:0}function p(e,t,o){var i=d(e,"clientX"),a=d(e,"clientY"),p=e.target,g=!1,v=function(e){var l=Math.abs(i-d(e,"clientX"))>10,v=Math.abs(a-d(e,"clientY"))>10;return(l||v)&&(g=!0,T(),function(e,t,o,l){var i=c(o),a=n.findParentBySelector(t,i);if(!a)return;var p=a.dataset.dxdgDraggable.split("|"),g=parseInt(p[0]),v=parseInt(p[1]),T=p[3],H="True"===p[4],S=n.getDocumentScrollLeft(),y=n.getDocumentScrollTop(),E={left:0,top:0},I={columnVisibleIndex:g,groupVisibleIndex:v,columnHeadType:T,canBeGrouped:H},b=function(e,t){for(var o=[],l=c(t),n=document.querySelectorAll(l),r=!1,i=!1,a=0;a<n.length;a++){var u=n[a],d=u.getBoundingClientRect(),p=u.dataset.dxdgDraggable.split("|"),f=parseInt(p[0]),h=parseInt(p[1]),g="True"===p[2],v=p[3];v==s.GroupPanelHead?r=!0:v==s.ColumnHead&&(i=!0),g&&o.push(new m(u,d.left,d.top,d.bottom,f,h,v,!0,!1)),o.push(new m(u,d.right,d.top,d.bottom,f,h,v,!1,!1))}if(r||i){if(!r){var T=document.querySelector("[data-dxdg-drag-group-panel="+t+"]");if(T){var d=T.getBoundingClientRect();o.push(new m(T,d.left,d.top,d.bottom,-1,0,s.GroupPanelHead,!1,!0,!0))}}if(!i){var H=document.querySelector("[data-dxdg-drag-head-row="+t+"]");if(H){var d=H.getBoundingClientRect();o.push(new m(H,d.right,d.top,d.bottom,0,-1,s.ColumnHead,!1,!0,!0))}}}return o}(0,o),x=function(e,t){var o=e.cloneNode(!0),l=e.getBoundingClientRect(),n={left:d(t,"clientX")-l.left,top:d(t,"clientY")-l.top};if("DIV"!=o.tagName){var r=document.createElement("DIV"),i=window.getComputedStyle(e);r.innerHTML=o.innerHTML,r.className="card "+e.className,r.style.width=e.offsetWidth+"px",r.style.height=e.offsetHeight+"px",r.style.paddingTop=i.paddingTop,r.style.paddingBottom=i.paddingBottom,r.style.paddingLeft=i.paddingLeft,r.style.paddingRight=i.paddingRight,o=r}else o.style.width=e.offsetWidth+"px",o.style.height=e.offsetHeight+"px";o.className=o.className+" dx-dragging-state",document.body.appendChild(o);var a=o.getBoundingClientRect();return{dragElement:o,offsetFromMouse:{left:a.left+n.left,top:a.top+n.top}}}(a,e),w=x.dragElement,D=x.offsetFromMouse;u(w,e,D);var R=!0,V=null,q=function(e){R&&(w.style.visibility="visible",R=!1);var t={left:D.left+E.left,top:D.top+E.top};return u(w,e,t),V=function(e,t,o,l,r){!function(e){for(var t=c(e),o=document.querySelectorAll("div."+h+t),l=0;l<o.length;l++){var n=o[l];n.parentNode.removeChild(n)}}(t);for(var i=null,a=[],u=d(l,"clientX"),p=d(l,"clientY"),m=0;m<e.length;m++){var g=e[m];if(!f(o,g)&&(g.columnHeadType!=s.GroupPanelHead||o.canBeGrouped)){var v=g.top+r.top<=p&&p<=g.bottom+r.top;if(v){if(g.wholeRowIsRarget){i=g;break}a.push({distance:Math.abs(Math.abs(g.x+r.left)-Math.abs(u)),target:g})}}}if(null==i){var T=1e6;for(var m in a)T>a[m].distance&&(T=a[m].distance,i=a[m].target)}null!=i&&!function(e,t){var o=document.createElement("DIV");o.className=h,o.dataset.dxdgDraggableId=t,o.style.top=e.top+(e.docScrollTop-n.getDocumentScrollTop())+n.getDocumentScrollTop()-1-1+"px",o.style.height=e.bottom-e.top+2+"px",o.style.left=e.x+(e.docScrollLeft-n.getDocumentScrollLeft())+n.getDocumentScrollLeft()+"px",o.innerHTML=["<span class='oi oi-arrow-bottom' aria-hidden='true'></span>","<div style='height:",o.style.height,"'></div>","<span class='oi oi-arrow-top' aria-hidden='true'></span>"].join(""),document.body.appendChild(o),e.mark=o}(i,t);return i}(b,o,I,e,E),e.preventDefault(),!1},N=function(){if(V){var e=I.columnHeadType==s.GroupPanelHead?I.groupVisibleIndex:I.columnVisibleIndex,t=V.columnHeadType==s.GroupPanelHead?V.groupVisibleIndex:V.columnVisibleIndex;l.invokeMethodAsync("OnGridColumnHeadDragNDrop",e,I.columnHeadType,t,V.columnHeadType,V.insertBefore),V.mark.parentNode.removeChild(V.mark)}n.DetachEventFromElement(document,r.TouchUIHelper.touchMouseMoveEventName,q),n.DetachEventFromElement(document,r.TouchUIHelper.touchMouseUpEventName,N),n.DetachEventFromElement(window,"scroll",B),w.parentNode.removeChild(w)},B=function(){E={left:S-n.getDocumentScrollLeft(),top:y-n.getDocumentScrollTop()}};n.AttachEventToElement(document,r.TouchUIHelper.touchMouseMoveEventName,q),n.AttachEventToElement(document,r.TouchUIHelper.touchMouseUpEventName,N),n.AttachEventToElement(window,"scroll",B)}(e,p,t,o)),e.preventDefault(),!1},T=function(){n.DetachEventFromElement(document,r.TouchUIHelper.touchMouseMoveEventName,v),n.DetachEventFromElement(document,r.TouchUIHelper.touchMouseUpEventName,T),!g&&p&&l.Browser.WebKitTouchUI&&p.click()};return n.AttachEventToElement(document,r.TouchUIHelper.touchMouseMoveEventName,v),n.AttachEventToElement(document,r.TouchUIHelper.touchMouseUpEventName,T),e.preventDefault(),!1}function m(e,t,o,l,r,i,a,c,u){this.element=e,this.x=t,this.top=o,this.bottom=l,this.columnVisibleIndex=r,this.groupVisibleIndex=i,this.columnHeadType=a,this.insertBefore=c,this.wholeRowIsRarget=u,this.docScrollTop=n.getDocumentScrollTop(),this.docScrollLeft=n.getDocumentScrollLeft()}function f(e,t){function o(e,t){return t.groupVisibleIndex==e.groupVisibleIndex||t.groupVisibleIndex==e.groupVisibleIndex-1&&!t.insertBefore}function l(e,t){return t.columnVisibleIndex==e.columnVisibleIndex||t.columnVisibleIndex==e.columnVisibleIndex-1&&!t.insertBefore}return!(t.columnHeadType!=e.columnHeadType||e.columnHeadType!=s.GroupPanelHead||!o(e,t))||(!(t.columnHeadType!=e.columnHeadType||e.columnHeadType!=s.ColumnHead||!l(e,t))||(!(e.columnHeadType!=s.GroupPanelHead||t.columnHeadType!=s.ColumnHead||-1==e.columnVisibleIndex||!l(e,t))||!(e.columnHeadType!=s.ColumnHead||t.columnHeadType!=s.GroupPanelHead||-1==e.groupVisibleIndex||!o(e,t))))}var h="dxgv-target-marks";var g=200;function v(e){if(n.elementIsInDOM(e)){if(!(t=function(e){var t=e.querySelector("*[id$='_LB']");t||(t=e.parentNode.querySelector("*[id$='_LB']"));t||(t=e);if(t){var o=t.querySelector(a.ListBoxSelectedItem);if(o)return o.parentNode}return null}(e)))var t=function(e){var t=null;n.QuerySelectorFromRoot(e,function(o){t=e.querySelector("*"+o+" > *[id$='_LB']")}),t||n.QuerySelectorFromRoot(e.parentNode,function(o){t=e.parentNode.querySelector("*"+o+" > *[id$='_LB']")});return t?t.querySelector(a.GridSelectedRow):null}(e);if(t){var o=e,l=o.scrollTop+o.clientHeight<t.offsetTop+t.offsetHeight;o.scrollTop>t.offsetTop&&(o.scrollTop=t.offsetTop),l&&(o.scrollTop=t.offsetTop-(o.clientHeight-t.offsetHeight))}}}function T(e,t,o,l,n,r){var i=e.target;H(e,t,o,i,l),i.dataset.InScrollRequest||(S(i),i.dataset.OnScrollTimerId=window.setTimeout(function(){!function(e,t,o,l,n,r,i){S(l);var a=!0;l.dataset.prevScrollTop?a=l.dataset.prevScrollTop!=l.scrollTop.toString():l.dataset.prevScrollTop=l.scrollTop;a&&o.isVirtualScrolling&&!function(e,t,o,l,n){var r=y(t),i=b(t,n),a=i.itemHeight,c=i.scrollTop,u=i.scrollBottom,s=i.scrollTopForRequest,d=i.scrollHeightForRequest,p=l.clientHeight>0&&u>o.offsetHeight+r.offsetHeight;(o.clientHeight>0&&c<o.offsetHeight||p)&&(t.dataset.InScrollRequest=!0,function(e,t,o,l){if(e.dxScrollCache){if(e.dxScrollCache.itemHeight===t&&e.dxScrollCache.scrollTopForRequest===o&&e.dxScrollCache.scrollHeightForRequest===l)return}else e.dxScrollCache={itemHeight:t,scrollTopForRequest:o,scrollHeightForRequest:l};e.invokeMethodAsync("OnGridVirtualScroll",t,o,l)}(e,a,s,d))}(t,l,r,i,!1);H(e,t,o,l,n)}(e,t,o,i,l,n,r)},g),window.setTimeout(function(){H(e,t,o,i,l)},0))}function H(e,t,o,l,n,r,i){o.isHorizontalScrolling&&(n.scrollLeft=l.scrollLeft)}function S(e){e.dataset.OnScrollTimerId&&(clearTimeout(e.dataset.OnScrollTimerId),delete e.dataset.OnScrollTimerId)}function y(e){var t=e.querySelector("table.dxbs-table"),o=e.parentNode.querySelector("div.dxbs-listbox > ul");return t||o}function E(e,t,o,l,n){var r=y(t),i=function(e,t){var o=I(e);return{itemHeight:o,spacerTop:t.VirtualScrollingOptions.ItemsAbove*o,spacerBelow:t.VirtualScrollingOptions.ItemsBelow*o}}(r,n);o.style.height=i.spacerTop+"px",l.style.height=i.spacerBelow+"px",function(e,t,o,l){if(e.clientHeight>t.offsetHeight)return;e.scrollTop<o.clientHeight&&(e.scrollTop=o.clientHeight+1);e.scrollTop+e.clientHeight>o.clientHeight+t.offsetHeight&&(e.scrollTop=o.clientHeight+t.offsetHeight-e.clientHeight-1)}(t,r,o)}function I(e){for(var t=function(e){var t=[];return e.dataset.tempUniqueId="tempUniqueId","TABLE"===e.tagName?t=e.parentNode.querySelectorAll("TABLE[data-temp-unique-id] > TBODY > TR"):"UL"===e.tagName&&(t=e.parentNode.querySelectorAll("ul[data-temp-unique-id] > li")),delete e.dataset.tempUniqueId,t}(e),o={},l=0;l<t.length;l++){var n=t[l];o[n.offsetHeight]=o[n.offsetHeight]?o[n.offsetHeight]+1:1}var r=0,i=0;for(var a in o)o[a]>i&&(i=o[a],r=a);return Number.parseInt(r)}function b(e,t){var o=300,l=300;t&&(o=0,l=0);var n=y(e),r=e.scrollTop-o;r<0&&(r=0);var i=e.scrollTop+e.clientHeight+l,a=r-o;a<0&&(a=0);var c=i-a+l;return{itemHeight:I(n),scrollTop:r,scrollBottom:i,scrollTopForRequest:a,scrollHeightForRequest:c}}function x(e,t){return(t.isVerticalScrolling||t.isVirtualScrolling)&&(e.clientHeight<e.scrollHeight||"scroll"==e.style.overflowY)}function w(e,t,o,l,a,u,s,d){if(null!==e){u=JSON.parse(u),e=n.EnsureElement(e),r.DisposeEvents(e);var m=null,f=null,h=null,g=null;(t=n.EnsureElement(t))&&(o=n.EnsureElement(o),t.dataset.InScrollRequest=!0,u.isVirtualScrolling&&(l=n.EnsureElement(l),a=n.EnsureElement(a)),(u.isVirtualScrolling||u.isVerticalScrolling)&&function(e,t,o){if((o.isVerticalScrolling||o.isVirtualScrolling)&&t){var l=[t];if(x(e,o)){var n=i.GetVerticalScrollBarWidth();if(17!==n||o.isHorizontalScrolling)for(var r=o.isHorizontalScrolling?"paddingRight":"marginRight",a=o.isHorizontalScrolling?"marginRight":"paddingRight",c=0,u=l.length;c<u;c++)l[c].style[r]="0",l[c].style[a]=n+"px"}else e.style.paddingRight="0",e.style.marginRight="0",t.style.paddingRight="0",t.style.marginRight="0"}}(t,o,u),u.isVirtualScrolling&&(E(0,t,l,a,u),d&&v(t)),delete t.dataset.InScrollRequest,n.AttachEventToElement(t,"scroll",m=function(e){return T(e,s,u,o,l,a)}),function(e){return e.isHorizontalScrolling||e.isVerticalScrolling}(u)&&((f=function(){!function(e,t,o,l,n,r){if(t){t.dataset.InScrollRequest=!0;var a=t.style.overflowX;t.style.overflowX="hidden",t.style.width="0"}if(o){var c=o.style.overflowX;o.style.overflowX="hidden",o.style.width="0"}var u=e.clientWidth;if(t&&(u&&(t.style.width=u+"px"),t.style.overflowX=a),o){var s=x(t,r)?i.GetVerticalScrollBarWidth():0;u&&(o.style.width=u-s+"px"),o.style.overflowX=c}t&&delete t.dataset.InScrollRequest}(e,t,o,0,0,u)})(),n.AttachEventToElement(window,"resize",f)));var H=null,y=null;if(u.isColumnDragEnabled){var I=e.dataset.dxdgId;if(I){var b=e.querySelector("th"+c(I));(H=b?b.parentNode:null)&&n.AttachEventToElement(H,r.TouchUIHelper.touchMouseDownEventName,h=function(e){return p(e,I,s)});var w=e.querySelector("div"+c(I));(y=w?w.parentNode:null)&&n.AttachEventToElement(y,r.TouchUIHelper.touchMouseDownEventName,g=function(e){return p(e,I,s)})}}return r.RegisterDisposableEvents(e,function(){m&&n.DetachEventFromElement(t,"scroll",m),f&&n.DetachEventFromElement(window,"resize",f),t&&S(t),h&&H&&n.DetachEventFromElement(H,r.TouchUIHelper.touchMouseDownEventName,h),g&&y&&n.DetachEventFromElement(y,r.TouchUIHelper.touchMouseDownEventName,g)}),Promise.resolve("ok")}}function D(e){return(e=n.EnsureElement(e))&&r.DisposeEvents(e),Promise.resolve("ok")}var R={Init:w,Dispose:D};o.Dispose=D,o.GetParametersForVirtualScrollingRequest=b,o.HasParametersForVirtualScrollingRequest=function(e){return null!==y(e)},o.Init=w,o.Key={Enter:13,Home:36,End:35,Up:38,Down:40,PageUp:33,PageDown:34,Esc:27,Tab:9},o.ScrollToSelectedItem=v,o.grid=R},["cjs-chunk-c27cc8ab.js","cjs-dom-utils-bcbaf851.js","cjs-chunk-103238e5.js","cjs-chunk-f6404a26.js"]);
